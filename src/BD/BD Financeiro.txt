CREATE DATABASE financeiro;

USE financeiro;

CREATE TABLE Cliente(
	cod_cliente INT AUTO_INCREMENT,
	nome_cliente VARCHAR(90),
	telefone_cliente VARCHAR(20),
	PRIMARY KEY(cod_cliente));

CREATE TABLE CondicaoPagamento(
	cod_condicao INT AUTO_INCREMENT,
	descricao_condicao VARCHAR(90),
	quantidade_parcela INT,
	PRIMARY KEY(cod_condicao));

CREATE TABLE TipoPagamento(
	cod_tipo_pagamento INT AUTO_INCREMENT,
	descricao_tipo_pagamento VARCHAR(90),
	PRIMARY KEY(cod_tipo_pagamento));

CREATE TABLE Despesa(
	cod_despesa INT AUTO_INCREMENT,
	descricao_despesa VARCHAR(90),
	valor_despesa DECIMAL(10,2),
	data_inicial DATE,
	quantidade_meses INT,
	PRIMARY KEY(cod_despesa));

CREATE TABLE DinheiroGuardado(
	cod_dinheiro INT AUTO_INCREMENT,
	local_guardado VARCHAR(90),
	valor_guardado DECIMAL(10,2),
	PRIMARY KEY(cod_dinheiro));

CREATE TABLE Saldo(
	cod_saldo INT AUTO_INCREMENT,
	data_saldo DATE,
	hora_saldo TIME,
	valor_saldo DECIMAL(10,2),
	PRIMARY KEY(cod_saldo));

CREATE TABLE PreVenda(
	cod_pre_venda INT AUTO_INCREMENT,
	cod_cliente INT,
	descricao_pre_venda VARCHAR(90),
	valor_custo DECIMAL(10,2),
	valor_venda DECIMAL(10,2),
	valor_lucro DECIMAL(10,2),
	valor_total DECIMAL(10,2),
	valor_desconto DECIMAL(10,2),
	data_venda DATE,
	cod_condicao_pagamento INT,FOREIGN KEY(cod_condicao_pagamento)REFERENCES CondicaoPagamento(cod_condicao),
	cod_tipo_pagamento INT,FOREIGN KEY(cod_tipo_pagamento)REFERENCES TipoPagamento(cod_tipo_pagamento),
	PRIMARY KEY(cod_pre_venda));
	
CREATE TABLE Venda(
	cod_venda INT AUTO_INCREMENT,
	cod_cliente INT,
	descricao_venda VARCHAR(90),
	valor_custo DECIMAL(10,2),
	valor_venda DECIMAL(10,2),
	valor_lucro DECIMAL(10,2),
	valor_total DECIMAL(10,2),
	valor_desconto DECIMAL(10,2),
	data_venda DATE,
	cod_condicao_pagamento INT,FOREIGN KEY(cod_condicao_pagamento)REFERENCES CondicaoPagamento(cod_condicao),
	cod_tipo_pagamento INT,FOREIGN KEY(cod_tipo_pagamento)REFERENCES TipoPagamento(cod_tipo_pagamento),
	PRIMARY KEY(cod_venda));

CREATE TABLE ItensVenda(
	cod_item INT AUTO_INCREMENT,
	cod_venda INT,FOREIGN KEY(cod_venda)REFERENCES Venda(cod_venda),
	descricao_item VARCHAR(90),
	quantidade INT,
	valor_custo DECIMAL(10,2),
	valor_venda DECIMAL(10,2),
	valor_lucro DECIMAL(10,2),
	valor_total DECIMAL(10,2),
	PRIMARY KEY(cod_item));
	